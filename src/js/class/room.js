let currentRoom;

class Room {
    constructor(args) {
        this.width = args.width || 24;
        this.height = args.height || 16;
        this.data = [
            [12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12],
            [12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12],
            [12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12],
            [12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12],
            [ 6, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20,  7, 12, 12, 12, 12, 12, 12, 12, 12],
            [13,  9,  9,  9,  9,  9,  9,  9,  9,  9,  9,  9,  9,  9,  9, 11, 12, 12, 12, 12, 12, 12, 12, 12],
            [13, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 11, 12, 12, 12, 12, 12, 12, 12, 12],
            [13,  2,  2,  2,  3,  5,  2,  2,  2,  3,  5,  2,  2,  2,  2, 11, 12, 12, 12, 12, 12, 12, 12, 12],
            [13,  2,  2,  2, 19, 21,  2,  2,  2, 19, 21,  2,  2,  2,  2, 11, 12, 12, 12, 12, 12, 12, 12, 12],
            [13,  0,  1,  2,  8, 10,  0,  1,  2,  8, 10,  0,  0,  1,  2, 11, 12, 12, 12, 12, 12, 12, 12, 12],
            [13,  0,  0,  1, 16, 18,  0,  0,  1, 16, 18,  0,  0,  0,  2, 11, 12, 12, 12, 12, 12, 12, 12, 12],
            [13,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  2, 11, 12, 12, 12, 12, 12, 12, 12, 12],
            [13,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  2, 11, 12, 12, 12, 12, 12, 12, 12, 12],
            [14,  4,  5,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  2, 11, 12, 12, 12, 12, 12, 12, 12, 12],
            [12, 12, 13,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  2, 11, 12, 12, 12, 12, 12, 12, 12, 12],
            [12, 12, 14,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4,  4, 15, 12, 12, 12, 12, 12, 12, 12, 12],
        ];
        this.tiles = [];
        for (let y = 0; y < this.height; y++) {
            this.tiles.push([]);
            for (let x = 0; x < this.width; x++) {
                this.tiles[y].push(new Tile({
                    x, y,
                    spriteIndex : this.data[y][x],
                }));
            }
        }
        currentRoom = this;
    }
}
